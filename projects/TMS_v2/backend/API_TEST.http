### API 테스트 파일 (VSCode REST Client 확장 필요)
### 또는 Postman, Insomnia 등의 API 클라이언트 사용

@baseUrl = http://localhost:3001/api
@token = YOUR_ACCESS_TOKEN_HERE

### Health Check
GET http://localhost:3001/health

###############################################
### 인증 API (Authentication)
###############################################

### 1. 회원가입 (첫 번째 사용자 - 자동 ADMIN)
POST {{baseUrl}}/auth/signup
Content-Type: application/json

{
  "email": "admin@test.com",
  "password": "password123",
  "name": "관리자"
}

### 2. 회원가입 (일반 사용자 - PENDING 상태)
POST {{baseUrl}}/auth/signup
Content-Type: application/json

{
  "email": "user@test.com",
  "password": "password123",
  "name": "일반사용자"
}

### 3. 로그인
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@test.com",
  "password": "password123"
}

### 4. 현재 사용자 정보 조회 (인증 필요)
GET {{baseUrl}}/auth/me
Authorization: Bearer {{token}}

###############################################
### 관리자 API (Admin Only)
###############################################

### 5. 가입 대기 사용자 목록 조회
GET {{baseUrl}}/admin/pending-users
Authorization: Bearer {{token}}

### 6. 모든 사용자 목록 조회
GET {{baseUrl}}/admin/users
Authorization: Bearer {{token}}

### 7. 사용자 승인
PATCH {{baseUrl}}/admin/users/approve
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "email": "user@test.com",
  "action": "approve"
}

### 8. 사용자 거절
PATCH {{baseUrl}}/admin/users/approve
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "email": "user@test.com",
  "action": "reject"
}

### 9. 사용자 역할 변경
PATCH {{baseUrl}}/admin/users/role
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "email": "user@test.com",
  "role": "ADMIN"
}

### 10. 비밀번호 초기화
POST {{baseUrl}}/admin/users/reset-password
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "email": "user@test.com",
  "newPassword": "newpassword123"
}

###############################################
### 에러 테스트
###############################################

### 잘못된 로그인 (이메일 오류)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "wrong@test.com",
  "password": "password123"
}

### 잘못된 로그인 (비밀번호 오류)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@test.com",
  "password": "wrongpassword"
}

### 토큰 없이 보호된 API 접근
GET {{baseUrl}}/auth/me

### 잘못된 토큰으로 API 접근
GET {{baseUrl}}/auth/me
Authorization: Bearer invalid_token_here

### 일반 사용자가 관리자 API 접근 (403 에러)
GET {{baseUrl}}/admin/users
Authorization: Bearer USER_TOKEN_HERE

